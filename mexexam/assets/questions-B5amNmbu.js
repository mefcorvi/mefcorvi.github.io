import{d as v,o as I,c as $,f,_ as i,A as w,H as h,C as _}from"./index-BoMVGiAV.js";const A=["src"],V=v({__name:"SectionImage",props:{section:{}},setup(t){return(s,n)=>s.section.image?(I(),$("img",{key:0,src:`/sections/${s.section.image}`},null,8,A)):f("",!0)}}),o="./questions-2",D=[{id:"u6w4x",title:"Artes I: Literatura y música",image:"literatura.jpg",ru:{title:"Искусство I: Литература и музыка"},questions:()=>i(()=>import(`${o}/art-lit-music`),[]).then(t=>t.questions)},{id:"bzymvt",title:"Artes II: Pintura y cine",image:"pintura.jpg",ru:{title:"Искусство II: Живопись и кино"},questions:()=>i(()=>import(`${o}/art-paint-cinema`),[]).then(t=>t.questions)},{id:"m2661",title:"Civismo",image:"citizenship.jpg",ru:{title:"Гражданство"},questions:()=>i(()=>import(`${o}/citizenship`),[]).then(t=>t.questions)},{id:"k91hli",title:"Gastronomía",image:"gastronomy.webp",ru:{title:"Гастрономия"},questions:()=>i(()=>import(`${o}/gastronomy`),[]).then(t=>t.questions)},{id:"hmc4a",title:"Geografía y población",image:"geography.webp",ru:{title:"География и население"},questions:()=>i(()=>import(`${o}/geography`),[]).then(t=>t.questions)},{id:"z7ige6",title:"Historia: Conquista y Colonia",ru:{title:"История: Завоевание и колония"},questions:()=>i(()=>import(`${o}/history-colony`),[]).then(t=>t.questions)},{id:"u7glcp",title:"Historia: Independencia",image:"independency.webp",ru:{title:"История: Независимость"},questions:()=>i(()=>import(`${o}/history-independence`),[]).then(t=>t.questions)},{id:"okkktn",title:"Historia: México Contemporáneo",image:"modern.webp",ru:{title:"История: Современная Мексика"},questions:()=>i(()=>import(`${o}/history-modern`),[]).then(t=>t.questions)},{id:"zpvby",title:"Historia: México Prehispánico",image:"prehispanic.webp",ru:{title:"История: Доколумбова Мексика"},questions:()=>i(()=>import(`${o}/history-prespain`),[]).then(t=>t.questions)},{id:"v00zr",title:"Historia: Revolución",image:"revolucion.webp",ru:{title:"История: Революция"},questions:()=>i(()=>import(`${o}/history-revolution`),[]).then(t=>t.questions)},{id:"xhrpl7t",title:"Ciencia y deportes",image:"science.webp",ru:{title:"Наука и спорт"},questions:()=>i(()=>import(`${o}/science`),[]).then(t=>t.questions)},{id:"iy3qg",title:"Tradiciones y cultura",image:"traditions.webp",ru:{title:"Традиции и культура"},questions:()=>i(()=>import(`${o}/traditions-culture`),[]).then(t=>t.questions)}],P=async()=>D,R=w(()=>{const t=new Map;return{add:(u,r,d)=>{r&&d&&t.set(`$${u}$${r}`,d)},t:(u,r)=>r?t.get(`$${u}$${r}`)??r:""}});var m=(t=>(t.Idle="idle",t.Loading="loading",t.Loaded="loaded",t.Error="error",t))(m||{});function L(t,s){return async()=>{t().loadingStatus="loading";try{await s(),t().loadingStatus="loaded"}catch{t().loadingStatus="error"}}}const b=w(()=>{const t=h(new Map),s=h(new Map),n=R(),u=async()=>{if(s.size>0)return;const d=await P();for(const c of d){const l={id:c.id,title:c.title,questions:[],image:c.image,loadingStatus:m.Idle,load:L(()=>l,async()=>{var g;if(l.loadingStatus===m.Loaded)return;const y=await c.questions();for(const e of y){const a={id:e.id,section:l,answer:e.answer,question:e.question,note:e.note,noteImage:"noteImage"in e?e.noteImage:void 0,options:(g=e.options)==null?void 0:g.map((p,E)=>_({id:E,value:p,isAnswer:!1})),type:e.type==="text"?"text":"choice"};if(e.ru&&(n.add("ru",e.answer,e.ru.answer),n.add("ru",e.question,e.ru.question),n.add("ru",e.note,e.ru.note),e.ru.options&&e.options))for(let p=0;p<e.ru.options.length;p++)n.add("ru",e.options[p],e.ru.options[p]);a.type==="choice"&&a.options&&a.options.push(_({id:a.options.length,isAnswer:!0,value:a.answer}));const q=_(a);t.set(a.id,q),l.questions.push(q)}})};s.set(l.id,_(l)),n.add("ru",c.title,c.ru.title)}};return{loadAll:async()=>{await u(),await Promise.all([...s.values()].map(d=>d.load()))},loadSections:u,questions:t,sections:s}});export{V as _,R as a,b as u};
