import{u as z,G as P,_ as H}from"./GeneralPage-D8q6Maua.js";import{G as I}from"./GeneralButton-mvb6ixsd.js";import{T as B}from"./ToggleSwitch-Bsw-mt6k.js";import{u as U,a as j,R as m}from"./index-BOS9nTMk.js";import{u as J}from"./preferences-BWx4Q1lU.js";import{u as K}from"./questions-B7htOsbw.js";import{u as W}from"./statistics-Bd1wb4X0.js";import{u as X}from"./texts-DZx-WXbl.js";import{q as Y,a as Z,w as x,o as ee,k as S,v as te,y as L,u as s,n as se,x as u,E as a,J as t,F as o,D as d,I as T,H as g,L as b,j as Q,G as $,M as G}from"./vendor-MUXKnC7j.js";import"./utils-B0mUfX74.js";const ae=["data-active","onClick"],le=["onClick"],oe=["onClick"],ie=Y({__name:"StartPage",setup(Ve){const{pushLocale:v}=z(),{t:l,locale:p}=U(),{selectedMode:n,selectedSectionId:c,showNotes:_,hideTranslationsInTexts:h}=J(),{sections:w,loadSections:O}=K(),M=j(),{getGlobalStats:y,resetStatistics:A}=W(),{texts:D}=X(),k=Z(),C=async()=>{if(await se(),!k.value)return;const e=k.value.querySelector('[data-active="true"]');e&&e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})};x(n,(e,r)=>{C(),(e==="texts"||r==="texts")&&(c.value=null)}),ee(()=>{O(),C()});const R=S(()=>Array.from(w.values()).map(e=>({...e,title:M.t(p.value,e.title)})).sort((e,r)=>e.title.localeCompare(r.title))),V=S(()=>[{value:"training",label:l("Training"),description:l("Training mode description")},{value:"flashcards",label:l("Flash Cards"),description:l("Flash cards mode description")},{value:"exam",label:l("Exam"),description:l("Exam mode description")},{value:"texts",label:l("Texts"),description:l("Texts mode description")}]),E=S(()=>{const e=V.value.find(r=>r.value===n.value);return(e==null?void 0:e.description)||""}),F=()=>{c.value?n.value==="training"?v(m.SectionQuestions,{sectionId:c.value,id:"init"}):n.value==="flashcards"?v(m.FlashCards,{sectionId:c.value,id:"init"}):n.value==="exam"?v(m.SectionExam,{sectionId:c.value}):n.value==="texts"&&v(m.Text,{id:c.value}):n.value==="training"?v(m.AllQuestions,{id:"init"}):n.value==="flashcards"?v(m.FlashCards,{sectionId:"all",id:"init"}):n.value==="exam"&&v(m.Exam)},N=S(()=>n.value==="texts"?!c.value:!1),q=()=>{confirm(l("Are you sure you want to reset all statistics? This action cannot be undone."))&&A()};return(e,r)=>(u(),te(P,{title:s(l)("Start")},{default:L(()=>[a("div",{class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Choose mode")),3),a("div",{class:t(e.$style.modeScroll),ref_key:"modeScrollRef",ref:k},[(u(!0),d(g,null,T(V.value,i=>(u(),d("button",{key:i.value,class:t([e.$style.modeOption,{[e.$style.active]:s(n)===i.value}]),"data-active":s(n)===i.value,onClick:f=>n.value=i.value},[a("span",{class:t(e.$style.modeLabel)},o(i.label),3)],10,ae))),128))],2),a("div",{class:t(e.$style.modeDescription)},o(E.value),3),s(n)!=="exam"&&s(n)!=="texts"?(u(),d("div",{key:0,class:t(e.$style.setting)},[a("label",null,o(s(l)("Show notes")),1),b(B,{modelValue:s(_),"onUpdate:modelValue":r[0]||(r[0]=i=>Q(_)?_.value=i:null),size:"16px"},null,8,["modelValue"])],2)):$("",!0),s(n)==="texts"&&s(p)!=="es"?(u(),d("div",{key:1,class:t(e.$style.setting)},[a("label",null,o(s(l)("Hide translations")),1),b(B,{modelValue:s(h),"onUpdate:modelValue":r[1]||(r[1]=i=>Q(h)?h.value=i:null),size:"16px"},null,8,["modelValue"])],2)):$("",!0)],2),s(n)!=="texts"?(u(),d("div",{key:0,class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Choose questions")),3),a("div",{class:t(e.$style.sectionSelection)},[a("button",{class:t([e.$style.sectionOption,{[e.$style.active]:!s(c)}]),onClick:r[2]||(r[2]=i=>c.value=null)},[a("span",{class:t(e.$style.sectionLabel)},o(s(l)("All questions")),3)],2),(u(!0),d(g,null,T(R.value,i=>(u(),d("button",{key:i.id,class:t([e.$style.sectionOption,{[e.$style.active]:s(c)===i.id}]),onClick:f=>c.value=i.id},[a("span",{class:t(e.$style.sectionLabel)},o(i.title),3)],10,le))),128))],2)],2)):$("",!0),s(n)==="texts"?(u(),d("div",{key:1,class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Choose text")),3),a("div",{class:t(e.$style.sectionSelection)},[(u(!0),d(g,null,T(s(D).sort((i,f)=>i.title[s(p)].localeCompare(f.title[s(p)])),i=>(u(),d("button",{key:i.id,class:t([e.$style.sectionOption,{[e.$style.active]:s(c)===i.id}]),onClick:f=>c.value=i.id},[a("span",{class:t(e.$style.sectionLabel)},o(i.title[s(p)]),3)],10,oe))),128))],2)],2)):$("",!0),s(y).totalQuestions>0&&s(n)!=="texts"?(u(),d("div",{key:2,class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Global Statistics")),3),a("div",{class:t(e.$style.statsGrid)},[a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).totalQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Total Questions Answered")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(Math.round(s(y).averageAccuracy))+"%",3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Average Accuracy")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).easyQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Easy Questions")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).mediumQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Medium Questions")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).hardQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Hard Questions")),3)],2)],2),b(I,{onClick:q,class:t(e.$style.resetButton)},{default:L(()=>[G(o(s(l)("Reset Statistics")),1)]),_:1},8,["class"])],2)):$("",!0),r[3]||(r[3]=a("div",{style:{height:"52px"}},"Â ",-1)),a("div",{class:t(e.$style.startSection)},[b(I,{onClick:F,class:t(e.$style.startButton),disabled:N.value},{default:L(()=>[G(o(s(l)("Start")),1)]),_:1},8,["class","disabled"])],2)]),_:1,__:[3]},8,["title"]))}}),ne="_section_1rre4_1",re="_sectionTitle_1rre4_8",ce="_modeScroll_1rre4_14",ue="_modeOption_1rre4_26",de="_active_1rre4_40",ve="_modeLabel_1rre4_45",me="_modeDescription_1rre4_48",ye="_sectionSelection_1rre4_57",pe="_sectionOption_1rre4_62",$e="_sectionLabel_1rre4_80",fe="_startSection_1rre4_84",Se="_startButton_1rre4_94",be="_setting_1rre4_106",_e="_statsGrid_1rre4_115",he="_statItem_1rre4_120",ke="_statValue_1rre4_130",Le="_statLabel_1rre4_136",Te="_resetButton_1rre4_141",ge={section:ne,sectionTitle:re,modeScroll:ce,modeOption:ue,active:de,modeLabel:ve,modeDescription:me,sectionSelection:ye,sectionOption:pe,sectionLabel:$e,startSection:fe,startButton:Se,setting:be,statsGrid:_e,statItem:he,statValue:ke,statLabel:Le,resetButton:Te},Ce={$style:ge},Ee=H(ie,[["__cssModules",Ce]]);export{Ee as default};
