import{u as D,G as E,_ as F}from"./localization-CdaeQYvD.js";import{G as h}from"./GeneralButton-B9TLbfma.js";import{T as N}from"./ToggleSwitch-ECLgk6vZ.js";import{q,a as P,w as z,o as H,k as g,v as j,y as f,u as a,p as J,n as U,x as m,E as t,J as e,F as o,D as y,I as L,H as k,L as S,j as K,G as C,M as T}from"./vendor-CiK06CAF.js";import{u as W}from"./preferences-DTDz8vIr.js";import{u as X,a as Y}from"./questions-ceva1npV.js";import{u as Z}from"./statistics-BywHeOGk.js";import{R as p}from"./index-DKu4LmND.js";import"./utils-DsLRjVzv.js";const x=["data-active","onClick"],ss=["onClick"],es=q({__name:"StartPage",setup(gs){const u=J(),{t:l,locale:V}=D(),{selectedMode:n,selectedSectionId:r,showNotes:v}=W(),{sections:I,loadSections:B}=X(),Q=Y(),{getGlobalStats:d,resetStatistics:G}=Z(),$=P(),_=async()=>{if(await U(),!$.value)return;const s=$.value.querySelector('[data-active="true"]');s&&s.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})};z(n,()=>{_()}),H(()=>{B(),_()});const w=g(()=>Array.from(I.values()).map(s=>({...s,title:Q.t(V.value,s.title)})).sort((s,c)=>s.title.localeCompare(c.title))),b=[{value:"training",label:l("Training"),description:l("Training mode description")},{value:"flashcards",label:l("Flash Cards"),description:l("Flash cards mode description")},{value:"exam",label:l("Exam"),description:l("Exam mode description")}],M=g(()=>{const s=b.find(c=>c.value===n.value);return(s==null?void 0:s.description)||""}),O=()=>{r.value?n.value==="training"?u.push({name:p.SectionQuestions,params:{sectionId:r.value,id:"init"}}):n.value==="flashcards"?u.push({name:p.FlashCards,params:{sectionId:r.value,id:"init"}}):n.value==="exam"&&u.push({name:p.SectionExam,params:{sectionId:r.value}}):n.value==="training"?u.push({name:p.AllQuestions,params:{id:"init"}}):n.value==="flashcards"?u.push({name:p.FlashCards,params:{sectionId:"all",id:"init"}}):n.value==="exam"&&u.push({name:p.Exam})},A=()=>{confirm(l("Are you sure you want to reset all statistics? This action cannot be undone."))&&G()};return(s,c)=>(m(),j(E,{title:a(l)("Start")},{default:f(()=>[t("div",{class:e(s.$style.section)},[t("h3",{class:e(s.$style.sectionTitle)},o(a(l)("Choose mode")),3),t("div",{class:e(s.$style.modeScroll),ref_key:"modeScrollRef",ref:$},[(m(),y(k,null,L(b,i=>t("button",{key:i.value,class:e([s.$style.modeOption,{[s.$style.active]:a(n)===i.value}]),"data-active":a(n)===i.value,onClick:R=>n.value=i.value},[t("span",{class:e(s.$style.modeLabel)},o(i.label),3)],10,x)),64))],2),t("div",{class:e(s.$style.modeDescription)},o(M.value),3),a(n)!=="exam"?(m(),y("div",{key:0,class:e(s.$style.setting)},[t("label",null,o(a(l)("Show notes")),1),S(N,{modelValue:a(v),"onUpdate:modelValue":c[0]||(c[0]=i=>K(v)?v.value=i:null),size:"16px"},null,8,["modelValue"])],2)):C("",!0)],2),t("div",{class:e(s.$style.section)},[t("h3",{class:e(s.$style.sectionTitle)},o(a(l)("Choose questions")),3),t("div",{class:e(s.$style.sectionSelection)},[t("button",{class:e([s.$style.sectionOption,{[s.$style.active]:!a(r)}]),onClick:c[1]||(c[1]=i=>r.value=null)},[t("span",{class:e(s.$style.sectionLabel)},o(a(l)("All questions")),3)],2),(m(!0),y(k,null,L(w.value,i=>(m(),y("button",{key:i.id,class:e([s.$style.sectionOption,{[s.$style.active]:a(r)===i.id}]),onClick:R=>r.value=i.id},[t("span",{class:e(s.$style.sectionLabel)},o(i.title),3)],10,ss))),128))],2)],2),a(d).totalQuestions>0?(m(),y("div",{key:0,class:e(s.$style.section)},[t("h3",{class:e(s.$style.sectionTitle)},o(a(l)("Global Statistics")),3),t("div",{class:e(s.$style.statsGrid)},[t("div",{class:e(s.$style.statItem)},[t("div",{class:e(s.$style.statValue)},o(a(d).totalQuestions),3),t("div",{class:e(s.$style.statLabel)},o(a(l)("Total Questions Answered")),3)],2),t("div",{class:e(s.$style.statItem)},[t("div",{class:e(s.$style.statValue)},o(Math.round(a(d).averageAccuracy))+"%",3),t("div",{class:e(s.$style.statLabel)},o(a(l)("Average Accuracy")),3)],2),t("div",{class:e(s.$style.statItem)},[t("div",{class:e(s.$style.statValue)},o(a(d).easyQuestions),3),t("div",{class:e(s.$style.statLabel)},o(a(l)("Easy Questions")),3)],2),t("div",{class:e(s.$style.statItem)},[t("div",{class:e(s.$style.statValue)},o(a(d).mediumQuestions),3),t("div",{class:e(s.$style.statLabel)},o(a(l)("Medium Questions")),3)],2),t("div",{class:e(s.$style.statItem)},[t("div",{class:e(s.$style.statValue)},o(a(d).hardQuestions),3),t("div",{class:e(s.$style.statLabel)},o(a(l)("Hard Questions")),3)],2)],2),S(h,{onClick:A,class:e(s.$style.resetButton)},{default:f(()=>[T(o(a(l)("Reset Statistics")),1)]),_:1},8,["class"])],2)):C("",!0),c[2]||(c[2]=t("div",{style:{height:"52px"}},"Â ",-1)),t("div",{class:e(s.$style.startSection)},[S(h,{onClick:O,class:e(s.$style.startButton)},{default:f(()=>[T(o(a(l)("Start")),1)]),_:1},8,["class"])],2)]),_:1,__:[2]},8,["title"]))}}),ts="_section_mplsy_1",as="_sectionTitle_mplsy_8",ls="_modeScroll_mplsy_14",os="_modeOption_mplsy_26",is="_active_mplsy_40",ns="_modeLabel_mplsy_45",cs="_modeDescription_mplsy_48",rs="_sectionSelection_mplsy_57",us="_sectionOption_mplsy_62",ds="_sectionLabel_mplsy_80",ms="_startSection_mplsy_84",ps="_startButton_mplsy_94",ys="_setting_mplsy_107",vs="_statsGrid_mplsy_116",$s="_statItem_mplsy_121",fs="_statValue_mplsy_131",Ss="_statLabel_mplsy_137",_s="_resetButton_mplsy_142",bs={section:ts,sectionTitle:as,modeScroll:ls,modeOption:os,active:is,modeLabel:ns,modeDescription:cs,sectionSelection:rs,sectionOption:us,sectionLabel:ds,startSection:ms,startButton:ps,setting:ys,statsGrid:vs,statItem:$s,statValue:fs,statLabel:Ss,resetButton:_s},hs={$style:bs},ws=F(es,[["__cssModules",hs]]);export{ws as default};
