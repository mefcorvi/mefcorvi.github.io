import{u as P,G as H,_ as U}from"./GeneralPage-C6UFFZkX.js";import{G as Q}from"./GeneralButton-BYlZojkr.js";import{T as G}from"./ToggleSwitch-CRBbivV9.js";import{u as j,a as J,R as m}from"./index-BzGROD6u.js";import{u as K}from"./preferences-BWx4Q1lU.js";import{u as W}from"./questions-7T8W8OFi.js";import{u as X}from"./statistics-Bd1wb4X0.js";import{u as Y}from"./texts-fwU-rqjl.js";import{q as Z,a as x,w as ee,o as te,k as S,v as se,y as L,u as t,n as ae,x as c,E as a,J as s,F as o,D as u,I as T,H as g,L as b,j as w,G as y,M as O}from"./vendor-MUXKnC7j.js";import"./utils-B0mUfX74.js";const le=["data-active","onClick"],oe=["onClick"],ie=["onClick"],ne={key:3,style:{height:"52px"}},re=Z({__name:"StartPage",setup(Be){const{pushLocale:v}=P(),{t:l,locale:$}=j(),{selectedMode:n,selectedSectionId:r,showNotes:h,hideTranslationsInTexts:_}=K(),{sections:M,loadSections:A}=W(),D=J(),{getGlobalStats:p,resetStatistics:R}=X(),{texts:E}=Y(),k=x(),C=async()=>{if(await ae(),!k.value)return;const e=k.value.querySelector('[data-active="true"]');e&&e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})};ee(n,(e,d)=>{C(),(e==="texts"||d==="texts")&&(r.value=null)}),te(()=>{A(),C()});const F=S(()=>Array.from(M.values()).map(e=>({...e,title:D.t($.value,e.title)})).sort((e,d)=>e.title.localeCompare(d.title))),V=S(()=>[{value:"training",label:l("Training"),description:l("Training mode description")},{value:"flashcards",label:l("Flash Cards"),description:l("Flash cards mode description")},{value:"exam",label:l("Exam"),description:l("Exam mode description")},{value:"texts",label:l("Texts"),description:l("Texts mode description")}]),N=S(()=>{const e=V.value.find(d=>d.value===n.value);return(e==null?void 0:e.description)||""}),I=()=>{r.value?n.value==="training"?v(m.SectionQuestions,{sectionId:r.value,id:"init"}):n.value==="flashcards"?v(m.FlashCards,{sectionId:r.value,id:"init"}):n.value==="exam"?v(m.SectionExam,{sectionId:r.value}):n.value==="texts"&&(v(m.Text,{id:r.value}),r.value=null):n.value==="training"?v(m.AllQuestions,{id:"init"}):n.value==="flashcards"?v(m.FlashCards,{sectionId:"all",id:"init"}):n.value==="exam"&&v(m.Exam)},q=S(()=>n.value==="texts"?!r.value:!1),z=()=>{confirm(l("Are you sure you want to reset all statistics? This action cannot be undone."))&&R()};return(e,d)=>(c(),se(H,{title:t(l)("Start")},{default:L(()=>[a("div",{class:s(e.$style.section)},[a("h3",{class:s(e.$style.sectionTitle)},o(t(l)("Choose mode")),3),a("div",{class:s(e.$style.modeScroll),ref_key:"modeScrollRef",ref:k},[(c(!0),u(g,null,T(V.value,i=>(c(),u("button",{key:i.value,class:s([e.$style.modeOption,{[e.$style.active]:t(n)===i.value}]),"data-active":t(n)===i.value,onClick:f=>n.value=i.value},[a("span",{class:s(e.$style.modeLabel)},o(i.label),3)],10,le))),128))],2),a("div",{class:s(e.$style.modeDescription)},o(N.value),3),t(n)!=="exam"&&t(n)!=="texts"?(c(),u("div",{key:0,class:s(e.$style.setting)},[a("label",null,o(t(l)("Show notes")),1),b(G,{modelValue:t(h),"onUpdate:modelValue":d[0]||(d[0]=i=>w(h)?h.value=i:null),size:"16px"},null,8,["modelValue"])],2)):y("",!0),t(n)==="texts"&&t($)!=="es"?(c(),u("div",{key:1,class:s(e.$style.setting)},[a("label",null,o(t(l)("Hide translations")),1),b(G,{modelValue:t(_),"onUpdate:modelValue":d[1]||(d[1]=i=>w(_)?_.value=i:null),size:"16px"},null,8,["modelValue"])],2)):y("",!0)],2),t(n)!=="texts"?(c(),u("div",{key:0,class:s(e.$style.section)},[a("h3",{class:s(e.$style.sectionTitle)},o(t(l)("Choose questions")),3),a("div",{class:s(e.$style.sectionSelection)},[a("button",{class:s([e.$style.sectionOption,{[e.$style.active]:!t(r)}]),onClick:d[2]||(d[2]=i=>r.value=null)},[a("span",{class:s(e.$style.sectionLabel)},o(t(l)("All questions")),3)],2),(c(!0),u(g,null,T(F.value,i=>(c(),u("button",{key:i.id,class:s([e.$style.sectionOption,{[e.$style.active]:t(r)===i.id}]),onClick:f=>r.value=i.id},[a("span",{class:s(e.$style.sectionLabel)},o(i.title),3)],10,oe))),128))],2)],2)):y("",!0),t(n)==="texts"?(c(),u("div",{key:1,class:s(e.$style.section)},[a("h3",{class:s(e.$style.sectionTitle)},o(t(l)("Choose text")),3),a("div",{class:s(e.$style.sectionSelection)},[(c(!0),u(g,null,T(t(E).sort((i,f)=>{var B;return((B=i.title[t($)])==null?void 0:B.localeCompare(f.title[t($)]??""))??0}),i=>(c(),u("button",{key:i.id,class:s([e.$style.sectionOption,{[e.$style.active]:t(r)===i.id}]),onClick:f=>{r.value=i.id,I()}},[a("span",{class:s(e.$style.sectionLabel)},o(i.title[t($)]),3)],10,ie))),128))],2)],2)):y("",!0),t(p).totalQuestions>0&&t(n)!=="texts"?(c(),u("div",{key:2,class:s(e.$style.section)},[a("h3",{class:s(e.$style.sectionTitle)},o(t(l)("Global Statistics")),3),a("div",{class:s(e.$style.statsGrid)},[a("div",{class:s(e.$style.statItem)},[a("div",{class:s(e.$style.statValue)},o(t(p).totalQuestions),3),a("div",{class:s(e.$style.statLabel)},o(t(l)("Total Questions Answered")),3)],2),a("div",{class:s(e.$style.statItem)},[a("div",{class:s(e.$style.statValue)},o(Math.round(t(p).averageAccuracy))+"%",3),a("div",{class:s(e.$style.statLabel)},o(t(l)("Average Accuracy")),3)],2),a("div",{class:s(e.$style.statItem)},[a("div",{class:s(e.$style.statValue)},o(t(p).easyQuestions),3),a("div",{class:s(e.$style.statLabel)},o(t(l)("Easy Questions")),3)],2),a("div",{class:s(e.$style.statItem)},[a("div",{class:s(e.$style.statValue)},o(t(p).mediumQuestions),3),a("div",{class:s(e.$style.statLabel)},o(t(l)("Medium Questions")),3)],2),a("div",{class:s(e.$style.statItem)},[a("div",{class:s(e.$style.statValue)},o(t(p).hardQuestions),3),a("div",{class:s(e.$style.statLabel)},o(t(l)("Hard Questions")),3)],2)],2),b(Q,{onClick:z,class:s(e.$style.resetButton)},{default:L(()=>[O(o(t(l)("Reset Statistics")),1)]),_:1},8,["class"])],2)):y("",!0),t(n)!=="texts"?(c(),u("div",ne,"Â ")):y("",!0),t(n)!=="texts"?(c(),u("div",{key:4,class:s(e.$style.startSection)},[b(Q,{onClick:I,class:s(e.$style.startButton),disabled:q.value},{default:L(()=>[O(o(t(l)("Start")),1)]),_:1},8,["class","disabled"])],2)):y("",!0)]),_:1},8,["title"]))}}),ce="_section_1rre4_1",ue="_sectionTitle_1rre4_8",de="_modeScroll_1rre4_14",ve="_modeOption_1rre4_26",me="_active_1rre4_40",ye="_modeLabel_1rre4_45",pe="_modeDescription_1rre4_48",$e="_sectionSelection_1rre4_57",fe="_sectionOption_1rre4_62",Se="_sectionLabel_1rre4_80",be="_startSection_1rre4_84",he="_startButton_1rre4_94",_e="_setting_1rre4_106",ke="_statsGrid_1rre4_115",Le="_statItem_1rre4_120",Te="_statValue_1rre4_130",ge="_statLabel_1rre4_136",Ce="_resetButton_1rre4_141",Ve={section:ce,sectionTitle:ue,modeScroll:de,modeOption:ve,active:me,modeLabel:ye,modeDescription:pe,sectionSelection:$e,sectionOption:fe,sectionLabel:Se,startSection:be,startButton:he,setting:_e,statsGrid:ke,statItem:Le,statValue:Te,statLabel:ge,resetButton:Ce},Ie={$style:Ve},Ne=U(re,[["__cssModules",Ie]]);export{Ne as default};
