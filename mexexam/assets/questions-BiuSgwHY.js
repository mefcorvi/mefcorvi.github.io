import{_ as n,v as h,H as w,x as y,D as p}from"./index-D4hfDQEj.js";const E=[{id:"u6w4x",title:"Artes I: Literatura y música",image:"literatura.jpg",en:{title:"Arts I: Literature and Music"},ru:{title:"Искусство I: Литература и музыка"},questions:()=>n(()=>import("./art-lit-music-CtEM_08h.js"),[]).then(t=>t.questions)},{id:"bzymvt",title:"Artes II: Pintura y cine",image:"pintura.jpg",en:{title:"Arts II: Painting and Cinema"},ru:{title:"Искусство II: Живопись и кино"},questions:()=>n(()=>import("./art-paint-cinema-CNrXHq2o.js"),[]).then(t=>t.questions)},{id:"m2661",title:"Civismo",image:"citizenship.jpg",en:{title:"Citizenship"},ru:{title:"Гражданство"},questions:()=>n(()=>import("./citizenship-D5V51Rka.js"),[]).then(t=>t.questions)},{id:"k91hli",title:"Gastronomía",image:"gastronomy.webp",en:{title:"Gastronomy"},ru:{title:"Гастрономия"},questions:()=>n(()=>import("./gastronomy-DPRcMviG.js"),[]).then(t=>t.questions)},{id:"hmc4a",title:"Geografía y población",image:"geography.webp",en:{title:"Geography and Population"},ru:{title:"География и население"},questions:()=>n(()=>import("./geography-8gykw535.js"),[]).then(t=>t.questions)},{id:"z7ige6",title:"Historia: Conquista y Colonia",en:{title:"History: Conquest and Colony"},ru:{title:"История: Завоевание и колония"},questions:()=>n(()=>import("./history-colony-BPP43bQx.js"),[]).then(t=>t.questions)},{id:"u7glcp",title:"Historia: Independencia",image:"independency.webp",en:{title:"History: Independence"},ru:{title:"История: Независимость"},questions:()=>n(()=>import("./history-independence-Deh8doX0.js"),[]).then(t=>t.questions)},{id:"okkktn",title:"Historia: México Contemporáneo",image:"modern.webp",en:{title:"History: Contemporary Mexico"},ru:{title:"История: Современная Мексика"},questions:()=>n(()=>import("./history-modern-DgACPxsk.js"),[]).then(t=>t.questions)},{id:"zpvby",title:"Historia: México Prehispánico",image:"prehispanic.webp",en:{title:"History: Pre-Hispanic Mexico"},ru:{title:"История: Доколумбова Мексика"},questions:()=>n(()=>import("./history-prespain-CXMxYR7e.js"),[]).then(t=>t.questions)},{id:"v00zr",title:"Historia: Revolución",image:"revolucion.webp",en:{title:"History: Revolution"},ru:{title:"История: Революция"},questions:()=>n(()=>import("./history-revolution-C5dX9KDt.js"),[]).then(t=>t.questions)},{id:"xhrpl7t",title:"Ciencia y deportes",image:"science.webp",en:{title:"Science and Sports"},ru:{title:"Наука и спорт"},questions:()=>n(()=>import("./science-C_shC2G-.js"),[]).then(t=>t.questions)},{id:"iy3qg",title:"Tradiciones y cultura",image:"traditions.webp",en:{title:"Traditions and Culture"},ru:{title:"Традиции и культура"},questions:()=>n(()=>import("./traditions-culture-DZ27YEH9.js"),[]).then(t=>t.questions)}],f=async()=>E,A=h(()=>{const t=new Map,o=(i,r,_)=>{r&&_&&t.set(`$${i}$${r}`,_)},d=(i,r)=>r?t.get(`$${i}$${r}`)??r:"";return o("es","I don't know","No sé"),o("ru","I don't know","Не знаю"),{add:o,t:d}});var m=(t=>(t.Idle="idle",t.Loading="loading",t.Loaded="loaded",t.Error="error",t))(m||{});function P(t,o){return async()=>{t().loadingStatus="loading";try{await o(),t().loadingStatus="loaded"}catch{t().loadingStatus="error"}}}const T=h(()=>{const t=w(new Map),o=w(new Map),d=y(!1),i=A(),r=async()=>{if(o.size>0)return;const c=await f();for(const s of c){const l={id:s.id,title:s.title,questions:[],image:s.image,loadingStatus:m.Idle,load:P(()=>l,async()=>{var q;if(l.loadingStatus===m.Loaded)return;const I=await s.questions();for(const e of I){const u={id:e.id,section:l,answer:e.answer,question:e.question,note:e.note,noteImage:"noteImage"in e?e.noteImage:void 0,options:(q=e.options)==null?void 0:q.map((a,v)=>p({id:v,value:a,isAnswer:!1})),type:e.type==="text"?"text":"choice"};if(e.ru&&(i.add("ru",e.answer,e.ru.answer),i.add("ru",e.question,e.ru.question),i.add("ru",e.note,e.ru.note),e.ru.options&&e.options))for(let a=0;a<e.ru.options.length;a++)i.add("ru",e.options[a],e.ru.options[a]);if(e.en&&(i.add("en",e.answer,e.en.answer),i.add("en",e.question,e.en.question),i.add("en",e.note,e.en.note),e.en.options&&e.options))for(let a=0;a<e.en.options.length;a++)i.add("en",e.options[a],e.en.options[a]);u.type==="choice"&&u.options&&u.options.push(p({id:u.options.length,isAnswer:!0,value:u.answer}));const g=p(u);t.set(u.id,g),l.questions.push(g)}})};o.set(l.id,p(l)),i.add("ru",s.title,s.ru.title),i.add("en",s.title,s.en.title),d.value=!0}};return{loadAll:async()=>{await r(),await Promise.all([...o.values()].map(c=>c.load()))},loadSection:async c=>{await r();const s=o.get(c);s&&await s.load()},loadSections:r,reset:()=>{d.value=!1,o.clear(),t.clear()},isLoaded:d,questions:t,sections:o}});export{A as a,T as u};
