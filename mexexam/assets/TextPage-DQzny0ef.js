import{q as P,a as w,k as I,v as N,y as x,T as R,x as i,E as l,O as W,L as k,u as t,J as s,D as p,F as m,G as v,H as g,I as y,w as E}from"./vendor-MUXKnC7j.js";import{u as V,G as $,m as z,S as D,_ as b}from"./GeneralPage-D8q6Maua.js";import{G as j}from"./GeneralButton-mvb6ixsd.js";import{d as H}from"./utils-B0mUfX74.js";import{a as J,u as Q,R as K}from"./index-BOS9nTMk.js";import{u as U}from"./activatable-effect-CF1XfpK3.js";import{u as X}from"./texts-DZx-WXbl.js";import{u as Y}from"./preferences-BWx4Q1lU.js";const Z=P({__name:"TextPage",setup(wt){const e=R(),q=J(),{locale:u}=Q(),{hideTranslationsInTexts:O}=Y(),{getText:S}=X(),{pushLocale:C}=V(),B=H("id",""),c=w(null),f=w([]),h=w([]);U(()=>{E(()=>B.value,async o=>{c.value=S(o),c.value&&(f.value=new Array(c.value.questions.length).fill(null),h.value=c.value.questions.map(a=>A(a)))},{immediate:!0})},{immediate:!0});const d=I(()=>u.value!=="es"&&!O.value),F=o=>q.t(u.value,o),L=()=>{C(K.Settings)};function M(o){const a=[...o];for(let r=a.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[a[r],a[n]]=[a[n],a[r]]}return a}const A=o=>{if(!o.options)return[];const a=[...o.options,o.answer];return M(a)},G=(o,a,r)=>{const n=f.value[r];if(!n)return"";const _=a[u.value]===o.answer[u.value];return a[u.value]===n?_?e.correct:e.wrong:_&&n!==o.answer[u.value]?e.correct:n?e.wrongFade:""};return(o,a)=>(i(),N($,{reserveSpace:!1},{topBar:x(()=>[l("div",{class:s(t(e).navigation)},[l("div",{onClick:W(L,["stop"])},[k(D,{type:"mdi",path:t(z)},null,8,["path"])])],2)]),default:x(()=>[c.value?(i(),p(g,{key:0},[l("div",{class:s(t(e).title)},[l("div",{class:s(t(e).original)},m(c.value.title.es),3),d.value?(i(),p("div",{key:0,class:s(t(e).translation)},m(c.value.title[t(u)]),3)):v("",!0)],2),l("div",{class:s(t(e).summary)},m(c.value.summary[d.value?t(u):"es"]),3),c.value.text.es?(i(),p("div",{key:0,class:s(t(e).text)},[(i(!0),p(g,null,y(c.value.text.es,(r,n)=>{var _;return i(),p("div",{class:s(t(e).part),key:n},[l("p",{class:s(t(e).original)},m(r),3),d.value?(i(),p("p",{key:0,class:s(t(e).translation)},m((_=c.value.text[t(u)])==null?void 0:_[n]),3)):v("",!0)],2)}),128))],2)):v("",!0),l("div",{class:s(t(e).questions)},[l("h2",null,m(F("Questions")),1),l("div",{class:s(t(e).questionsList)},[(i(!0),p(g,null,y(c.value.questions,(r,n)=>(i(),p("div",{key:n,class:s(t(e).question)},[l("div",{class:s(t(e).questionText)},[l("div",{class:s(t(e).original)},m(r.text.es),3),d.value?(i(),p("div",{key:0,class:s(t(e).translation)},m(r.text[t(u)]),3)):v("",!0)],2),l("div",{class:s(t(e).answerOptions)},[(i(!0),p(g,null,y(h.value[n]||[],(_,T)=>(i(),p("div",{key:T,class:s(t(e).optionWrapper)},[k(j,{onClick:xt=>f.value[n]=_[t(u)]??null,class:s([t(e).optionButton,G(r,_,n)])},{default:x(()=>[l("div",{class:s(t(e).original)},m(_.es),3),d.value?(i(),p("div",{key:0,class:s(t(e).translation)},m(_[t(u)]),3)):v("",!0)]),_:2},1032,["onClick","class"])],2))),128))],2)],2))),128))],2)],2)],64)):v("",!0)]),_:1}))}}),tt="_text_imgnp_1",et="_title_imgnp_7",st="_translation_imgnp_12",nt="_summary_imgnp_16",at="_part_imgnp_27",ot="_questions_imgnp_39",rt="_question_imgnp_39",it="_questionText_imgnp_55",lt="_original_imgnp_55",ut="_answerText_imgnp_58",ct="_answerOptions_imgnp_61",pt="_optionWrapper_imgnp_67",_t="_optionButton_imgnp_70",mt="_correct_imgnp_79",vt="_wrong_imgnp_83",dt="_wrongFade_imgnp_87",gt={text:tt,title:et,translation:st,summary:nt,part:at,questions:ot,question:rt,questionText:it,original:lt,answerText:ut,answerOptions:ct,optionWrapper:pt,optionButton:_t,correct:mt,wrong:vt,wrongFade:dt},ft={$style:gt},Bt=b(Z,[["__cssModules",ft]]);export{Bt as default};
