import{u as V,G as D,_ as I}from"./localization-PEXGOHfu.js";import{G as M}from"./GeneralButton-CKbUWq0k.js";import{T as E}from"./ToggleSwitch-BY7R4n3c.js";import{q as F,a as N,w as R,o as G,k as y,v as q,y as $,u as l,p as P,n as z,x as m,E as s,J as t,F as r,D as p,I as h,H as w,L as b,j as A,G as Q,M as H}from"./vendor-DgBf67BD.js";import{u as J}from"./preferences-CBWyg_jW.js";import{u as U,a as K}from"./questions-CZ_S_S6d.js";import{R as d}from"./index-NaPuEQN9.js";import"./utils-DENQyvkc.js";const W=["data-active","onClick"],X=["onClick"],Y=F({__name:"StartPage",setup(pe){const u=P(),{t:a,locale:g}=V(),{selectedMode:n,selectedSectionId:i,showNotes:v}=J(),{sections:k,loadSections:C}=U(),j=K(),_=N(),f=async()=>{if(await z(),!_.value)return;const e=_.value.querySelector('[data-active="true"]');e&&e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})};R(n,()=>{f()}),G(()=>{C(),f()});const T=y(()=>Array.from(k.values()).map(e=>({...e,title:j.t(g.value,e.title)})).sort((e,c)=>e.title.localeCompare(c.title))),S=[{value:"training",label:a("Training"),description:a("Training mode description")},{value:"flashcards",label:a("Flash Cards"),description:a("Flash cards mode description")},{value:"exam",label:a("Exam"),description:a("Exam mode description")}],L=y(()=>{const e=S.find(c=>c.value===n.value);return(e==null?void 0:e.description)||""}),B=()=>{i.value?n.value==="training"?u.push({name:d.SectionQuestions,params:{sectionId:i.value,id:"init"}}):n.value==="flashcards"?u.push({name:d.FlashCards,params:{sectionId:i.value,id:"init"}}):n.value==="exam"&&u.push({name:d.SectionExam,params:{sectionId:i.value}}):n.value==="training"?u.push({name:d.AllQuestions,params:{id:"init"}}):n.value==="flashcards"?u.push({name:d.FlashCards,params:{sectionId:"all",id:"init"}}):n.value==="exam"&&u.push({name:d.Exam})};return(e,c)=>(m(),q(D,{title:l(a)("Start")},{default:$(()=>[s("div",{class:t(e.$style.section)},[s("h3",{class:t(e.$style.sectionTitle)},r(l(a)("Choose mode")),3),s("div",{class:t(e.$style.modeScroll),ref_key:"modeScrollRef",ref:_},[(m(),p(w,null,h(S,o=>s("button",{key:o.value,class:t([e.$style.modeOption,{[e.$style.active]:l(n)===o.value}]),"data-active":l(n)===o.value,onClick:O=>n.value=o.value},[s("span",{class:t(e.$style.modeLabel)},r(o.label),3)],10,W)),64))],2),s("div",{class:t(e.$style.modeDescription)},r(L.value),3),l(n)!=="exam"?(m(),p("div",{key:0,class:t(e.$style.setting)},[s("label",null,r(l(a)("Show notes")),1),b(E,{modelValue:l(v),"onUpdate:modelValue":c[0]||(c[0]=o=>A(v)?v.value=o:null),size:"16px"},null,8,["modelValue"])],2)):Q("",!0)],2),s("div",{class:t(e.$style.section)},[s("h3",{class:t(e.$style.sectionTitle)},r(l(a)("Choose questions")),3),s("div",{class:t(e.$style.sectionSelection)},[s("button",{class:t([e.$style.sectionOption,{[e.$style.active]:!l(i)}]),onClick:c[1]||(c[1]=o=>i.value=null)},[s("span",{class:t(e.$style.sectionLabel)},r(l(a)("All questions")),3)],2),(m(!0),p(w,null,h(T.value,o=>(m(),p("button",{key:o.id,class:t([e.$style.sectionOption,{[e.$style.active]:l(i)===o.id}]),onClick:O=>i.value=o.id},[s("span",{class:t(e.$style.sectionLabel)},r(o.title),3)],10,X))),128))],2)],2),s("div",{class:t(e.$style.startSection)},[b(M,{onClick:B,class:t(e.$style.startButton)},{default:$(()=>[H(r(l(a)("Start")),1)]),_:1},8,["class"])],2)]),_:1},8,["title"]))}}),Z="_section_16wj0_1",x="_sectionTitle_16wj0_8",ee="_modeScroll_16wj0_14",te="_modeOption_16wj0_26",se="_active_16wj0_40",oe="_modeLabel_16wj0_45",ae="_modeDescription_16wj0_48",ne="_sectionSelection_16wj0_57",le="_sectionOption_16wj0_63",ie="_sectionLabel_16wj0_81",ce="_startSection_16wj0_85",re="_startButton_16wj0_95",ue="_setting_16wj0_108",de={section:Z,sectionTitle:x,modeScroll:ee,modeOption:te,active:se,modeLabel:oe,modeDescription:ae,sectionSelection:ne,sectionOption:le,sectionLabel:ie,startSection:ce,startButton:re,setting:ue},me={$style:de},be=I(Y,[["__cssModules",me]]);export{be as default};
