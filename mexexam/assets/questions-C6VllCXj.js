import{_ as o,z as h,G as w,A as E,B as _}from"./index-hb_2XVUP.js";const f=[{id:"u6w4x",title:"Artes I: Literatura y música",image:"literatura.jpg",ru:{title:"Искусство I: Литература и музыка"},questions:()=>o(()=>import("./art-lit-music-DB_7ymju.js"),[]).then(t=>t.questions)},{id:"bzymvt",title:"Artes II: Pintura y cine",image:"pintura.jpg",ru:{title:"Искусство II: Живопись и кино"},questions:()=>o(()=>import("./art-paint-cinema-Dz4gzb3g.js"),[]).then(t=>t.questions)},{id:"m2661",title:"Civismo",image:"citizenship.jpg",ru:{title:"Гражданство"},questions:()=>o(()=>import("./citizenship-CkY3f52R.js"),[]).then(t=>t.questions)},{id:"k91hli",title:"Gastronomía",image:"gastronomy.webp",ru:{title:"Гастрономия"},questions:()=>o(()=>import("./gastronomy-DT-oIgNJ.js"),[]).then(t=>t.questions)},{id:"hmc4a",title:"Geografía y población",image:"geography.webp",ru:{title:"География и население"},questions:()=>o(()=>import("./geography-C91Om-2r.js"),[]).then(t=>t.questions)},{id:"z7ige6",title:"Historia: Conquista y Colonia",ru:{title:"История: Завоевание и колония"},questions:()=>o(()=>import("./history-colony-DlJ6HLgI.js"),[]).then(t=>t.questions)},{id:"u7glcp",title:"Historia: Independencia",image:"independency.webp",ru:{title:"История: Независимость"},questions:()=>o(()=>import("./history-independence-9-JVNDtZ.js"),[]).then(t=>t.questions)},{id:"okkktn",title:"Historia: México Contemporáneo",image:"modern.webp",ru:{title:"История: Современная Мексика"},questions:()=>o(()=>import("./history-modern-BZTZSR49.js"),[]).then(t=>t.questions)},{id:"zpvby",title:"Historia: México Prehispánico",image:"prehispanic.webp",ru:{title:"История: Доколумбова Мексика"},questions:()=>o(()=>import("./history-prespain-C4XfDghN.js"),[]).then(t=>t.questions)},{id:"v00zr",title:"Historia: Revolución",image:"revolucion.webp",ru:{title:"История: Революция"},questions:()=>o(()=>import("./history-revolution-3R3JKLZr.js"),[]).then(t=>t.questions)},{id:"xhrpl7t",title:"Ciencia y deportes",image:"science.webp",ru:{title:"Наука и спорт"},questions:()=>o(()=>import("./science-CQZ4u1T4.js"),[]).then(t=>t.questions)},{id:"iy3qg",title:"Tradiciones y cultura",image:"traditions.webp",ru:{title:"Традиции и культура"},questions:()=>o(()=>import("./traditions-culture-Bzqh6N_m.js"),[]).then(t=>t.questions)}],y=async()=>f,A=h(()=>{const t=new Map,i=(n,s,p)=>{s&&p&&t.set(`$${n}$${s}`,p)},u=(n,s)=>s?t.get(`$${n}$${s}`)??s:"";return i("es","I don't know","No sé"),i("ru","I don't know","Не знаю"),{add:i,t:u}});var m=(t=>(t.Idle="idle",t.Loading="loading",t.Loaded="loaded",t.Error="error",t))(m||{});function D(t,i){return async()=>{t().loadingStatus="loading";try{await i(),t().loadingStatus="loaded"}catch{t().loadingStatus="error"}}}const T=h(()=>{const t=w(new Map),i=w(new Map),u=E(!1),n=A(),s=async()=>{if(i.size>0)return;const c=await y();for(const a of c){const d={id:a.id,title:a.title,questions:[],image:a.image,loadingStatus:m.Idle,load:D(()=>d,async()=>{var q;if(d.loadingStatus===m.Loaded)return;const v=await a.questions();for(const e of v){const r={id:e.id,section:d,answer:e.answer,question:e.question,note:e.note,noteImage:"noteImage"in e?e.noteImage:void 0,options:(q=e.options)==null?void 0:q.map((l,I)=>_({id:I,value:l,isAnswer:!1})),type:e.type==="text"?"text":"choice"};if(e.ru&&(n.add("ru",e.answer,e.ru.answer),n.add("ru",e.question,e.ru.question),n.add("ru",e.note,e.ru.note),e.ru.options&&e.options))for(let l=0;l<e.ru.options.length;l++)n.add("ru",e.options[l],e.ru.options[l]);r.type==="choice"&&r.options&&r.options.push(_({id:r.options.length,isAnswer:!0,value:r.answer}));const g=_(r);t.set(r.id,g),d.questions.push(g)}})};i.set(d.id,_(d)),n.add("ru",a.title,a.ru.title),u.value=!0}};return{loadAll:async()=>{await s(),await Promise.all([...i.values()].map(c=>c.load()))},loadSection:async c=>{await s();const a=i.get(c);a&&await a.load()},loadSections:s,reset:()=>{u.value=!1,i.clear(),t.clear()},isLoaded:u,questions:t,sections:i}});export{A as a,T as u};
