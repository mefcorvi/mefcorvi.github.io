import{q as $,a as x,k as N,v as R,y as k,T as W,x as n,E as p,O as b,L as O,u as e,J as s,D as r,F as _,G as d,H as g,I as h,w as E}from"./vendor-MUXKnC7j.js";import{u as I,G as V,m as z,S as D,_ as j}from"./GeneralPage-C6UFFZkX.js";import{G as H}from"./GeneralButton-BYlZojkr.js";import{d as J}from"./utils-B0mUfX74.js";import{a as Q,u as K,R as U}from"./index-BzGROD6u.js";import{u as X}from"./activatable-effect-CF1XfpK3.js";import{u as Y}from"./texts-fwU-rqjl.js";import{u as Z}from"./preferences-BWx4Q1lU.js";const ee=$({__name:"TextPage",setup(ye){const t=W(),S=Q(),{locale:l}=K(),{hideTranslationsInTexts:C}=Z(),{getText:B}=Y(),{pushLocale:q}=I(),F=J("id",""),i=x(null),m=x([]),T=x([]);X(()=>{E(()=>F.value,async c=>{i.value=B(c),i.value&&(m.value=new Array(i.value.questions.length).fill(null),T.value=i.value.questions.map(u=>G(u)),window.scrollTo({top:0,behavior:"instant"}))},{immediate:!0})},{immediate:!0});const y=N(()=>l.value!=="es"&&!C.value),L=c=>S.t(l.value,c),M=()=>{q(U.Settings)};function A(c){const u=[...c];for(let o=u.length-1;o>0;o--){const a=Math.floor(Math.random()*(o+1));[u[o],u[a]]=[u[a],u[o]]}return u}const G=c=>{if(!c.options)return[];const u=[...c.options,c.answer];return A(u)},P=(c,u,o)=>{const a=m.value[o];if(!a)return"";const v=u[l.value]===c.answer[l.value];return u[l.value]===a?v?t.correct:t.wrong:v&&a!==c.answer[l.value]?t.correct:a?t.wrongFade:""};return(c,u)=>(n(),R(V,{reserveSpace:!1},{topBar:k(()=>[p("div",{class:s(e(t).navigation)},[p("div",{onClick:b(M,["stop"])},[O(D,{type:"mdi",path:e(z)},null,8,["path"])])],2)]),default:k(()=>[i.value?(n(),r(g,{key:0},[p("div",{class:s(e(t).title)},[p("div",{class:s(e(t).original)},_(i.value.title.es),3),y.value?(n(),r("div",{key:0,class:s(e(t).translation)},_(i.value.title[e(l)]),3)):d("",!0)],2),p("div",{class:s(e(t).summary)},_(i.value.summary[y.value?e(l):"es"]),3),i.value.text.es?(n(),r("div",{key:0,class:s(e(t).text)},[(n(!0),r(g,null,h(i.value.text.es,(o,a)=>{var v;return n(),r("div",{class:s(e(t).part),key:a},[p("p",{class:s(e(t).original)},_(o),3),y.value?(n(),r("p",{key:0,class:s(e(t).translation)},_((v=i.value.text[e(l)])==null?void 0:v[a]),3)):d("",!0)],2)}),128))],2)):d("",!0),p("div",{class:s(e(t).questions)},[p("h2",null,_(L("Questions")),1),p("div",{class:s(e(t).questionsList)},[(n(!0),r(g,null,h(i.value.questions,(o,a)=>{var v;return n(),r("div",{key:a,class:s(e(t).question)},[typeof o.paragraph_id=="number"?(n(),r("div",{key:0,class:s(e(t).paragraph)},_((v=i.value.text.es)==null?void 0:v[o.paragraph_id]),3)):(n(),r("div",{key:1,class:s(e(t).paragraph)},[(n(!0),r(g,null,h(o.paragraph_id,f=>{var w;return n(),r("div",{key:f},_((w=i.value.text.es)==null?void 0:w[f]),1)}),128))],2)),p("div",{class:s(e(t).questionText)},[p("div",{class:s(e(t).original)},_(`${a+1}. ${o.text.es}`),3),m.value[a]!==null&&e(l)!=="es"?(n(),r("div",{key:0,class:s(e(t).translation)},_(o.text[e(l)]),3)):d("",!0)],2),p("div",{class:s(e(t).answerOptions)},[(n(!0),r(g,null,h(T.value[a]||[],(f,w)=>(n(),r("div",{key:w,class:s(e(t).optionWrapper)},[O(H,{onClick:xe=>m.value[a]=f[e(l)]??null,class:s([e(t).optionButton,P(o,f,a)])},{default:k(()=>[p("div",{class:s(e(t).original)},_(f.es),3),m.value[a]!==null&&e(l)!=="es"?(n(),r("div",{key:0,class:s(e(t).translation)},_(f[e(l)]),3)):d("",!0)]),_:2},1032,["onClick","class"])],2))),128))],2)],2)}),128))],2)],2)],64)):d("",!0)]),_:1}))}}),te="_text_a41f1_1",se="_title_a41f1_7",ae="_translation_a41f1_12",ne="_summary_a41f1_16",oe="_part_a41f1_27",re="_questions_a41f1_39",le="_paragraph_a41f1_42",ie="_question_a41f1_39",ue="_questionText_a41f1_65",ce="_original_a41f1_65",pe="_answerText_a41f1_68",_e="_answerOptions_a41f1_71",ve="_optionWrapper_a41f1_77",fe="_optionButton_a41f1_80",de="_correct_a41f1_89",me="_wrong_a41f1_93",ge="_wrongFade_a41f1_97",we={text:te,title:se,translation:ae,summary:ne,part:oe,questions:re,paragraph:le,question:ie,questionText:ue,original:ce,answerText:pe,answerOptions:_e,optionWrapper:ve,optionButton:fe,correct:de,wrong:me,wrongFade:ge},he={$style:we},Le=j(ee,[["__cssModules",he]]);export{Le as default};
