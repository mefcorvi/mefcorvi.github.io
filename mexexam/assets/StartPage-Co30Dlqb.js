import{u as R,G as D,_ as E}from"./localization-DqA_xciY.js";import{G as h}from"./GeneralButton-eS7_t_wt.js";import{T as F}from"./ToggleSwitch-CS15Z83w.js";import{q as N,a as P,w as z,o as H,k as q,v as j,y as $,u as a,p as J,n as U,x as m,E as t,J as s,F as o,D as p,I as g,H as L,L as f,j as K,G as k,M as C}from"./vendor-DgBf67BD.js";import{u as W}from"./preferences-CBWyg_jW.js";import{u as X,a as Y}from"./questions-CZ_S_S6d.js";import{u as Z}from"./statistics-B7WG5HBg.js";import{R as v}from"./index-yW9rYbsm.js";import"./utils-DENQyvkc.js";const x=["data-active","onClick"],ee=["onClick"],se=N({__name:"StartPage",setup(qe){const u=J(),{t:l,locale:T}=R(),{selectedMode:n,selectedSectionId:r,showNotes:y}=W(),{sections:V,loadSections:I}=X(),B=Y(),{getGlobalStats:d,resetStatistics:Q}=Z(),b=P(),S=async()=>{if(await U(),!b.value)return;const e=b.value.querySelector('[data-active="true"]');e&&e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})};z(n,()=>{S()}),H(()=>{I(),S()});const G=q(()=>Array.from(V.values()).map(e=>({...e,title:B.t(T.value,e.title)})).sort((e,c)=>e.title.localeCompare(c.title))),_=[{value:"training",label:l("Training"),description:l("Training mode description")},{value:"flashcards",label:l("Flash Cards"),description:l("Flash cards mode description")},{value:"exam",label:l("Exam"),description:l("Exam mode description")}],w=q(()=>{const e=_.find(c=>c.value===n.value);return(e==null?void 0:e.description)||""}),M=()=>{r.value?n.value==="training"?u.push({name:v.SectionQuestions,params:{sectionId:r.value,id:"init"}}):n.value==="flashcards"?u.push({name:v.FlashCards,params:{sectionId:r.value,id:"init"}}):n.value==="exam"&&u.push({name:v.SectionExam,params:{sectionId:r.value}}):n.value==="training"?u.push({name:v.AllQuestions,params:{id:"init"}}):n.value==="flashcards"?u.push({name:v.FlashCards,params:{sectionId:"all",id:"init"}}):n.value==="exam"&&u.push({name:v.Exam})},O=()=>{confirm(l("Are you sure you want to reset all statistics? This action cannot be undone."))&&Q()};return(e,c)=>(m(),j(D,{title:a(l)("Start")},{default:$(()=>[t("div",{class:s(e.$style.section)},[t("h3",{class:s(e.$style.sectionTitle)},o(a(l)("Choose mode")),3),t("div",{class:s(e.$style.modeScroll),ref_key:"modeScrollRef",ref:b},[(m(),p(L,null,g(_,i=>t("button",{key:i.value,class:s([e.$style.modeOption,{[e.$style.active]:a(n)===i.value}]),"data-active":a(n)===i.value,onClick:A=>n.value=i.value},[t("span",{class:s(e.$style.modeLabel)},o(i.label),3)],10,x)),64))],2),t("div",{class:s(e.$style.modeDescription)},o(w.value),3),a(n)!=="exam"?(m(),p("div",{key:0,class:s(e.$style.setting)},[t("label",null,o(a(l)("Show notes")),1),f(F,{modelValue:a(y),"onUpdate:modelValue":c[0]||(c[0]=i=>K(y)?y.value=i:null),size:"16px"},null,8,["modelValue"])],2)):k("",!0)],2),t("div",{class:s(e.$style.section)},[t("h3",{class:s(e.$style.sectionTitle)},o(a(l)("Choose questions")),3),t("div",{class:s(e.$style.sectionSelection)},[t("button",{class:s([e.$style.sectionOption,{[e.$style.active]:!a(r)}]),onClick:c[1]||(c[1]=i=>r.value=null)},[t("span",{class:s(e.$style.sectionLabel)},o(a(l)("All questions")),3)],2),(m(!0),p(L,null,g(G.value,i=>(m(),p("button",{key:i.id,class:s([e.$style.sectionOption,{[e.$style.active]:a(r)===i.id}]),onClick:A=>r.value=i.id},[t("span",{class:s(e.$style.sectionLabel)},o(i.title),3)],10,ee))),128))],2)],2),a(d).totalQuestions>0?(m(),p("div",{key:0,class:s(e.$style.section)},[t("h3",{class:s(e.$style.sectionTitle)},o(a(l)("Global Statistics")),3),t("div",{class:s(e.$style.statsGrid)},[t("div",{class:s(e.$style.statItem)},[t("div",{class:s(e.$style.statValue)},o(a(d).totalQuestions),3),t("div",{class:s(e.$style.statLabel)},o(a(l)("Total Questions Answered")),3)],2),t("div",{class:s(e.$style.statItem)},[t("div",{class:s(e.$style.statValue)},o(Math.round(a(d).averageAccuracy))+"%",3),t("div",{class:s(e.$style.statLabel)},o(a(l)("Average Accuracy")),3)],2),t("div",{class:s(e.$style.statItem)},[t("div",{class:s(e.$style.statValue)},o(a(d).easyQuestions),3),t("div",{class:s(e.$style.statLabel)},o(a(l)("Easy Questions")),3)],2),t("div",{class:s(e.$style.statItem)},[t("div",{class:s(e.$style.statValue)},o(a(d).mediumQuestions),3),t("div",{class:s(e.$style.statLabel)},o(a(l)("Medium Questions")),3)],2),t("div",{class:s(e.$style.statItem)},[t("div",{class:s(e.$style.statValue)},o(a(d).hardQuestions),3),t("div",{class:s(e.$style.statLabel)},o(a(l)("Hard Questions")),3)],2)],2),f(h,{onClick:O,class:s(e.$style.resetButton)},{default:$(()=>[C(o(a(l)("Reset Statistics")),1)]),_:1},8,["class"])],2)):k("",!0),c[2]||(c[2]=t("div",{style:{height:"52px"}},"Â ",-1)),t("div",{class:s(e.$style.startSection)},[f(h,{onClick:M,class:s(e.$style.startButton)},{default:$(()=>[C(o(a(l)("Start")),1)]),_:1},8,["class"])],2)]),_:1,__:[2]},8,["title"]))}}),te="_section_6xlbq_1",ae="_sectionTitle_6xlbq_8",le="_modeScroll_6xlbq_14",oe="_modeOption_6xlbq_26",ie="_active_6xlbq_40",ne="_modeLabel_6xlbq_45",ce="_modeDescription_6xlbq_48",re="_sectionSelection_6xlbq_57",ue="_sectionOption_6xlbq_62",de="_sectionLabel_6xlbq_80",me="_startSection_6xlbq_84",ve="_startButton_6xlbq_94",pe="_setting_6xlbq_107",ye="_statsGrid_6xlbq_116",be="_statItem_6xlbq_121",$e="_statValue_6xlbq_131",fe="_statLabel_6xlbq_137",Se="_resetButton_6xlbq_142",_e={section:te,sectionTitle:ae,modeScroll:le,modeOption:oe,active:ie,modeLabel:ne,modeDescription:ce,sectionSelection:re,sectionOption:ue,sectionLabel:de,startSection:me,startButton:ve,setting:pe,statsGrid:ye,statItem:be,statValue:$e,statLabel:fe,resetButton:Se},he={$style:_e},Ge=E(se,[["__cssModules",he]]);export{Ge as default};
