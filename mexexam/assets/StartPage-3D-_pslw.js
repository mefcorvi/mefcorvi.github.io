import{u as F,G as N,_ as q}from"./GeneralPage-U7Hu4whR.js";import{G as V}from"./GeneralButton-k63r3da1.js";import{T as P}from"./ToggleSwitch-ByZvKpoV.js";import{u as z,R as m}from"./index-BITPBKhr.js";import{u as H}from"./preferences-56dZKsPG.js";import{u as j}from"./questions-Ckzwe_sO.js";import{u as J}from"./translations-B9wJDgVj.js";import{u as U}from"./statistics-Bd1wb4X0.js";import{u as K}from"./texts-Czy1Khe0.js";import{q as W,a as X,w as Y,o as Z,k as p,v as x,y as b,u as s,n as ee,x as u,E as a,J as t,F as o,D as d,I as _,H as h,L as k,j as te,G as $,M as I}from"./vendor-MUXKnC7j.js";import"./utils-B0mUfX74.js";const se=["data-active","onClick"],ae=["onClick"],le=["onClick"],oe=W({__name:"StartPage",setup(Ce){const{pushLocale:v}=F(),{t:l,locale:L}=z(),{selectedMode:i,selectedSectionId:r,showNotes:f}=H(),{sections:B,loadSections:Q}=j(),G=J(),{getGlobalStats:y,resetStatistics:w}=U(),{texts:O}=K(),S=X(),T=async()=>{if(await ee(),!S.value)return;const e=S.value.querySelector('[data-active="true"]');e&&e.scrollIntoView({block:"center",inline:"center",behavior:"smooth"})};Y(i,(e,c)=>{T(),(e==="texts"||c==="texts")&&(r.value=null)}),Z(()=>{Q(),T()});const M=p(()=>Array.from(B.values()).map(e=>({...e,title:G.t(L.value,e.title)})).sort((e,c)=>e.title.localeCompare(c.title))),g=p(()=>[{value:"training",label:l("Training"),description:l("Training mode description")},{value:"flashcards",label:l("Flash Cards"),description:l("Flash cards mode description")},{value:"exam",label:l("Exam"),description:l("Exam mode description")},{value:"texts",label:l("Texts"),description:l("Texts mode description")}]),A=p(()=>{const e=g.value.find(c=>c.value===i.value);return(e==null?void 0:e.description)||""}),D=()=>{r.value?i.value==="training"?v(m.SectionQuestions,{sectionId:r.value,id:"init"}):i.value==="flashcards"?v(m.FlashCards,{sectionId:r.value,id:"init"}):i.value==="exam"?v(m.SectionExam,{sectionId:r.value}):i.value==="texts"&&v(m.Text,{id:r.value}):i.value==="training"?v(m.AllQuestions,{id:"init"}):i.value==="flashcards"?v(m.FlashCards,{sectionId:"all",id:"init"}):i.value==="exam"&&v(m.Exam)},R=p(()=>i.value==="texts"?!r.value:!1),E=()=>{confirm(l("Are you sure you want to reset all statistics? This action cannot be undone."))&&w()};return(e,c)=>(u(),x(N,{title:s(l)("Start")},{default:b(()=>[a("div",{class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Choose mode")),3),a("div",{class:t(e.$style.modeScroll),ref_key:"modeScrollRef",ref:S},[(u(!0),d(h,null,_(g.value,n=>(u(),d("button",{key:n.value,class:t([e.$style.modeOption,{[e.$style.active]:s(i)===n.value}]),"data-active":s(i)===n.value,onClick:C=>i.value=n.value},[a("span",{class:t(e.$style.modeLabel)},o(n.label),3)],10,se))),128))],2),a("div",{class:t(e.$style.modeDescription)},o(A.value),3),s(i)!=="exam"&&s(i)!=="texts"?(u(),d("div",{key:0,class:t(e.$style.setting)},[a("label",null,o(s(l)("Show notes")),1),k(P,{modelValue:s(f),"onUpdate:modelValue":c[0]||(c[0]=n=>te(f)?f.value=n:null),size:"16px"},null,8,["modelValue"])],2)):$("",!0)],2),s(i)!=="texts"?(u(),d("div",{key:0,class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Choose questions")),3),a("div",{class:t(e.$style.sectionSelection)},[a("button",{class:t([e.$style.sectionOption,{[e.$style.active]:!s(r)}]),onClick:c[1]||(c[1]=n=>r.value=null)},[a("span",{class:t(e.$style.sectionLabel)},o(s(l)("All questions")),3)],2),(u(!0),d(h,null,_(M.value,n=>(u(),d("button",{key:n.id,class:t([e.$style.sectionOption,{[e.$style.active]:s(r)===n.id}]),onClick:C=>r.value=n.id},[a("span",{class:t(e.$style.sectionLabel)},o(n.title),3)],10,ae))),128))],2)],2)):$("",!0),s(i)==="texts"?(u(),d("div",{key:1,class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Choose text")),3),a("div",{class:t(e.$style.sectionSelection)},[(u(!0),d(h,null,_(s(O),n=>(u(),d("button",{key:n.id,class:t([e.$style.sectionOption,{[e.$style.active]:s(r)===n.id}]),onClick:C=>r.value=n.id},[a("span",{class:t(e.$style.sectionLabel)},o(n.title[s(L)]),3)],10,le))),128))],2)],2)):$("",!0),s(y).totalQuestions>0&&s(i)!=="texts"?(u(),d("div",{key:2,class:t(e.$style.section)},[a("h3",{class:t(e.$style.sectionTitle)},o(s(l)("Global Statistics")),3),a("div",{class:t(e.$style.statsGrid)},[a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).totalQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Total Questions Answered")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(Math.round(s(y).averageAccuracy))+"%",3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Average Accuracy")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).easyQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Easy Questions")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).mediumQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Medium Questions")),3)],2),a("div",{class:t(e.$style.statItem)},[a("div",{class:t(e.$style.statValue)},o(s(y).hardQuestions),3),a("div",{class:t(e.$style.statLabel)},o(s(l)("Hard Questions")),3)],2)],2),k(V,{onClick:E,class:t(e.$style.resetButton)},{default:b(()=>[I(o(s(l)("Reset Statistics")),1)]),_:1},8,["class"])],2)):$("",!0),c[2]||(c[2]=a("div",{style:{height:"52px"}},"Â ",-1)),a("div",{class:t(e.$style.startSection)},[k(V,{onClick:D,class:t(e.$style.startButton),disabled:R.value},{default:b(()=>[I(o(s(l)("Start")),1)]),_:1},8,["class","disabled"])],2)]),_:1,__:[2]},8,["title"]))}}),ie="_section_1rre4_1",ne="_sectionTitle_1rre4_8",re="_modeScroll_1rre4_14",ce="_modeOption_1rre4_26",ue="_active_1rre4_40",de="_modeLabel_1rre4_45",ve="_modeDescription_1rre4_48",me="_sectionSelection_1rre4_57",ye="_sectionOption_1rre4_62",pe="_sectionLabel_1rre4_80",$e="_startSection_1rre4_84",fe="_startButton_1rre4_94",Se="_setting_1rre4_106",be="_statsGrid_1rre4_115",_e="_statItem_1rre4_120",he="_statValue_1rre4_130",ke="_statLabel_1rre4_136",Le="_resetButton_1rre4_141",Te={section:ie,sectionTitle:ne,modeScroll:re,modeOption:ce,active:ue,modeLabel:de,modeDescription:ve,sectionSelection:me,sectionOption:ye,sectionLabel:pe,startSection:$e,startButton:fe,setting:Se,statsGrid:be,statItem:_e,statValue:he,statLabel:ke,resetButton:Le},ge={$style:Te},Ee=q(oe,[["__cssModules",ge]]);export{Ee as default};
