import{q as G,a as w,k as N,v as P,y as x,T as R,x as i,E as l,O as W,L as T,u as t,J as s,D as p,F as m,G as v,H as g,I as y,w as E}from"./vendor-MUXKnC7j.js";import{u as I,G as V,m as $,S as z,_ as D}from"./GeneralPage-CFW6OVOS.js";import{G as b}from"./GeneralButton-tP1ZIeCh.js";import{d as j}from"./utils-B0mUfX74.js";import{a as H,u as J,R as Q}from"./index-BPijJxxq.js";import{u as K}from"./activatable-effect-CF1XfpK3.js";import{u as U}from"./texts-CwJCYFfA.js";const X=G({__name:"TextPage",setup(gt){const e=R(),q=H(),{locale:u}=J(),{getText:O}=U(),{pushLocale:C}=I(),S=j("id",""),c=w(null),f=w([]),h=w([]);K(()=>{E(()=>S.value,async o=>{c.value=O(o),c.value&&(f.value=new Array(c.value.questions.length).fill(null),h.value=c.value.questions.map(a=>M(a)))},{immediate:!0})},{immediate:!0});const d=N(()=>u.value!=="es"),B=o=>q.t(u.value,o),F=()=>{C(Q.Settings)};function L(o){const a=[...o];for(let r=a.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[a[r],a[n]]=[a[n],a[r]]}return a}const M=o=>{if(!o.options)return[];const a=[...o.options,o.answer];return L(a)},A=(o,a,r)=>{const n=f.value[r];if(!n)return"";const _=a[u.value]===o.answer[u.value];return a[u.value]===n?_?e.correct:e.wrong:_&&n!==o.answer[u.value]?e.correct:n?e.wrongFade:""};return(o,a)=>(i(),P(V,{reserveSpace:!1},{topBar:x(()=>[l("div",{class:s(t(e).navigation)},[l("div",{onClick:W(F,["stop"])},[T(z,{type:"mdi",path:t($)},null,8,["path"])])],2)]),default:x(()=>[c.value?(i(),p(g,{key:0},[l("div",{class:s(t(e).title)},[l("div",{class:s(t(e).original)},m(c.value.title.es),3),d.value?(i(),p("div",{key:0,class:s(t(e).translation)},m(c.value.title[t(u)]),3)):v("",!0)],2),l("div",{class:s(t(e).summary)},m(c.value.summary[t(u)]),3),c.value.text.es?(i(),p("div",{key:0,class:s(t(e).text)},[(i(!0),p(g,null,y(c.value.text.es,(r,n)=>{var _;return i(),p("div",{class:s(t(e).part),key:n},[l("p",{class:s(t(e).original)},m(r),3),d.value?(i(),p("p",{key:0,class:s(t(e).translation)},m((_=c.value.text[t(u)])==null?void 0:_[n]),3)):v("",!0)],2)}),128))],2)):v("",!0),l("div",{class:s(t(e).questions)},[l("h2",null,m(B("Questions")),1),l("div",{class:s(t(e).questionsList)},[(i(!0),p(g,null,y(c.value.questions,(r,n)=>(i(),p("div",{key:n,class:s(t(e).question)},[l("div",{class:s(t(e).questionText)},[l("div",{class:s(t(e).original)},m(r.text.es),3),d.value?(i(),p("div",{key:0,class:s(t(e).translation)},m(r.text[t(u)]),3)):v("",!0)],2),l("div",{class:s(t(e).answerOptions)},[(i(!0),p(g,null,y(h.value[n]||[],(_,k)=>(i(),p("div",{key:k,class:s(t(e).optionWrapper)},[T(b,{onClick:ft=>f.value[n]=_[t(u)]??null,class:s([t(e).optionButton,A(r,_,n)])},{default:x(()=>[l("div",{class:s(t(e).original)},m(_.es),3),d.value?(i(),p("div",{key:0,class:s(t(e).translation)},m(_[t(u)]),3)):v("",!0)]),_:2},1032,["onClick","class"])],2))),128))],2)],2))),128))],2)],2)],64)):v("",!0)]),_:1}))}}),Y="_text_imgnp_1",Z="_title_imgnp_7",tt="_translation_imgnp_12",et="_summary_imgnp_16",st="_part_imgnp_27",nt="_questions_imgnp_39",at="_question_imgnp_39",ot="_questionText_imgnp_55",rt="_original_imgnp_55",it="_answerText_imgnp_58",lt="_answerOptions_imgnp_61",ut="_optionWrapper_imgnp_67",ct="_optionButton_imgnp_70",pt="_correct_imgnp_79",_t="_wrong_imgnp_83",mt="_wrongFade_imgnp_87",vt={text:Y,title:Z,translation:tt,summary:et,part:st,questions:nt,question:at,questionText:ot,original:rt,answerText:it,answerOptions:lt,optionWrapper:ut,optionButton:ct,correct:pt,wrong:_t,wrongFade:mt},dt={$style:vt},Ot=D(X,[["__cssModules",dt]]);export{Ot as default};
